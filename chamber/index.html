<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Local Chamber of Commerce - Promoting business and community growth" />
  <meta name="author" content="Your Name" />
  <meta property="og:title" content="Local Chamber of Commerce" />
  <meta property="og:description" content="Connecting businesses and strengthening our community" />
  <meta property="og:image" content="https://yourdomain.com/images/social-preview.jpg" />
  <meta property="og:url" content="https://yourdomain.com/chamber/index.html" />
  <title>Home | Local Chamber of Commerce</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="styles/normalize.css" />
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/large.css" media="(min-width: 768px)" />
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to Main Content</a>
  <header>
    <div class="header-container">
      <div class="logo">
        <svg width="60" height="60" viewBox="0 0 60 60" aria-hidden="true">
          <circle cx="30" cy="30" r="25" fill="#2c3e50" />
          <text x="30" y="38" font-family="Roboto" font-size="20" fill="white" text-anchor="middle">CC</text>
        </svg>
        <span class="name">Local Chamber</span>
      </div>
      <button id="menu-button" aria-expanded="false" aria-label="Navigation menu" aria-controls="primary-nav">
        <span class="hamburger-icon">☰</span>
        <span class="sr-only">Menu</span>
      </button>
    </div>
    <nav id="primary-nav" aria-label="Primary navigation">
      <ul>
        <li><a href="index.html" aria-current="page">Home</a></li>
        <li><a href="discover.html">Discover</a></li>
        <li><a href="directory.html">Directory</a></li>
        <li><a href="join.html">Join</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content">
    <section class="hero">
      <picture>
        <source media="(min-width: 1200px)" srcset="images/hero-large.webp" />
        <source media="(min-width: 768px)" srcset="images/hero-medium.webp" />
        <img src="images/hero-small.webp" alt="Downtown city streets in bright daylight" width="1200" height="600" loading="lazy" />
      </picture>
      <div class="hero-content">
        <h1>Welcome to Our Community</h1>
        <a href="join.html" class="button">Join the Chamber</a>
      </div>
    </section>

    <section class="company-spotlight">
      <h2>Member Spotlights</h2>
      <div class="spotlight-cards">
        <article class="spotlight-card">
          <img src="images/company1.jpg" alt="Logo of Company A" width="200" height="150" loading="lazy" />
          <h3>Company A</h3>
          <p>A leading local business in retail services.</p>
        </article>
        <article class="spotlight-card">
          <img src="images/company2.jpg" alt="Logo of Company B" width="200" height="150" loading="lazy" />
          <h3>Company B</h3>
          <p>Innovative tech firm making waves in our region.</p>
        </article>
      </div>
    </section>

    <section class="events">
      <h2>Upcoming Events</h2>
      <div class="event-cards" aria-live="polite" aria-atomic="true">
        <!-- dynamically loaded events -->
      </div>
    </section>

     <!-- Weather Widget -->
    <section class="weather" aria-label="Current Weather">
      <h2>Weather in Entebbe</h2>
      <div id="weather-container">
        <p>Loading weather...</p>
      </div>
    </section>

    <!-- Company Spotlight -->
    <section class="spotlight" aria-label="Company Spotlights">
      <h2>Member Spotlights</h2>
      <div id="spotlight-container">
        <!-- Populated dynamically -->
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <div class="contact-info">
        <h3>Contact Us</h3>
        <p>123 Commerce Street</p>
        <p>Entebbe City</p>
        <p>Phone: (256) 770826951</p>
        <p>Email: info@localchamber.org</p>
      </div>
      <div class="social-media">
        <a href="#" aria-label="Facebook">FB</a>
        <a href="#" aria-label="LinkedIn">LI</a>
      </div>
      <div class="development-info">
        <p>&copy; <span id="current-year"></span> Local Chamber of Commerce</p>
        <p>Max Tinka | WDD 231 Project</p>
        <p>Last Modified: <span id="lastModified"></span></p>
      </div>
    </div>
  </footer>

  <script>
    // Toggle mobile menu
    const menuButton = document.getElementById('menu-button');
    const primaryNav = document.getElementById('primary-nav');
    menuButton.addEventListener('click', () => {
      const expanded = menuButton.getAttribute('aria-expanded') === 'true';
      menuButton.setAttribute('aria-expanded', String(!expanded));
      primaryNav.classList.toggle('active');
    });

    // Update year and last modified
    document.getElementById('current-year').textContent = new Date().getFullYear();
    document.getElementById('lastModified').textContent = document.lastModified;

    // Load sample events
    const events = [
      {title:'Annual Expo', date:'2025-08-15', description:'Showcase and connect local businesses.'},
      {title:'Networking Breakfast', date:'2025-08-22', description:'Build valuable connections.'},
      {title:'Community Clean‑up Day', date:'2025-09-05', description:'Volunteer to improve our city.'}
    ];
    function formatDate(d){ return new Date(d).toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'}); }
    const eventContainer = document.querySelector('.event-cards');
    events.forEach(e=>{
      const card = document.createElement('article');
      card.className = 'event-card';
      card.innerHTML = `<h3>${e.title}</h3><time datetime="${e.date}">${formatDate(e.date)}</time><p>${e.description}</p>`;
      eventContainer.appendChild(card);
    });

    // Load weather (placeholder areas from similar earlier script)...

    async function fetchWeather(){
      const apiKey='YOUR_OPENWEATHERMAP_API_KEY', lat=0.05, lon=32.46;
      try{
        const resp = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=metric&exclude=minutely,hourly,alerts&appid=${apiKey}`);
        if(!resp.ok) throw '';
        const data = await resp.json(), c=data.current, d=data.daily;
        let html=`<h3>Current Weather</h3><p>Temp: ${Math.round(c.temp)}°C — ${c.weather[0].description}</p><h3>3‑Day Forecast</h3><ul>`;
        for(let i=1;i<=3;i++){ const day=d[i]; const dt=new Date(day.dt*1000).toLocaleDateString(undefined,{weekday:'short',month:'short',day:'numeric'}); html+=`<li><strong>${dt}</strong>: ${Math.round(day.temp.day)}°C, ${day.weather[0].description}</li>`; }
        html+='</ul>';
        document.querySelector('.weather-card').innerHTML=html;
      } catch {
        document.querySelector('.weather-card').innerHTML='<p>Unable to load weather data.</p>';
      }
    }
    fetchWeather();
  </script>
</body>
</html>
