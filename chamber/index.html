<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Local Chamber of Commerce - Promoting business and community growth" />
  <meta name="author" content="Your Name" />
  <meta property="og:title" content="Local Chamber of Commerce" />
  <meta property="og:description" content="Connecting businesses and strengthening our community" />
  <meta property="og:image" content="https://yourdomain.com/images/social-preview.jpg" />
  <meta property="og:url" content="https://yourdomain.com/chamber/index.html" />
  <title>Home | Local Chamber of Commerce</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="styles/normalize.css" />
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/large.css" media="(min-width: 768px)" />
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to Main Content</a>
  <header>
    <div class="header-container">
      <div class="logo">
        <svg width="60" height="60" viewBox="0 0 60 60" aria-hidden="true">
          <circle cx="30" cy="30" r="25" fill="#2c3e50" />
          <text
            x="30"
            y="38"
            font-family="Roboto"
            font-size="20"
            fill="white"
            text-anchor="middle"
            >CC</text
          >
        </svg>
        <span class="name">Local Chamber</span>
      </div>
      <button
        id="menu-button"
        aria-expanded="false"
        aria-label="Navigation menu"
        aria-controls="primary-nav"
      >
        <span class="hamburger-icon">☰</span>
        <span class="sr-only">Menu</span>
      </button>
    </div>
    <nav id="primary-nav" aria-label="Primary navigation">
      <ul>
        <li><a href="index.html" aria-current="page">Home</a></li>
        <li><a href="#">Discover</a></li>
        <li><a href="directory.html">Directory</a></li>
        <li><a href="#">Join</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content">
    <section class="hero">
      <picture>
        <source media="(min-width: 1200px)" srcset="images/hero-large.webp" />
        <source media="(min-width: 768px)" srcset="images/hero-medium.webp" />
        <img
          src="images/hero-small.webp"
          alt="Downtown city view"
          width="1200"
          height="600"
          loading="lazy"
        />
      </picture>
      <div class="hero-content">
        <h1>Welcome to Our Community</h1>
        <a href="#" class="button">Join the Chamber</a>
      </div>
    </section>

    <section class="events">
      <h2>Upcoming Events</h2>
      <div class="event-cards" aria-live="polite" aria-atomic="true">
        <!-- Events will be loaded dynamically -->
      </div>
    </section>

    <section class="weather">
      <h2>Local Weather</h2>
      <div class="weather-card" aria-live="polite" aria-atomic="true">
        <!-- Weather will be loaded dynamically -->
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <div class="contact-info">
        <h3>Contact Us</h3>
        <p>123 Commerce Street</p>
        <p>Entebbe City</p>
        <p>Phone: (256) 770826951</p>
        <p>Email: info@localchamber.org</p>
      </div>
      <div class="social-media">
        <a href="#" aria-label="Facebook">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
            />
          </svg>
        </a>
        <a href="#" aria-label="LinkedIn">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
            />
          </svg>
        </a>
      </div>
      <div class="development-info">
        <p>&copy; <span id="current-year"></span> Local Chamber of Commerce</p>
        <p>Max Tinka | WDD 231 Project</p>
        <p>Last Modified: <span id="lastModified"></span></p>
      </div>
    </div>
  </footer>

  <script>
    // Toggle mobile menu
    const menuButton = document.getElementById('menu-button');
    const primaryNav = document.getElementById('primary-nav');

    menuButton.addEventListener('click', () => {
      const expanded = menuButton.getAttribute('aria-expanded') === 'true' || false;
      menuButton.setAttribute('aria-expanded', !expanded);
      primaryNav.classList.toggle('active');
    });

    // Update current year and last modified date in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();
    document.getElementById('lastModified').textContent = document.lastModified;

    // Sample upcoming events (you can replace with real data or fetch dynamically)
    const events = [
      {
        title: 'Annual Business Expo',
        date: '2025-08-15',
        description: 'Showcase your business and network with local entrepreneurs.',
      },
      {
        title: 'Networking Breakfast',
        date: '2025-08-22',
        description: 'Join us for breakfast and build valuable connections.',
      },
      {
        title: 'Community Clean-up Day',
        date: '2025-09-05',
        description: 'Help improve our city’s environment by volunteering.',
      },
    ];

    function formatDate(dateStr) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateStr).toLocaleDateString(undefined, options);
    }

    const eventContainer = document.querySelector('.event-cards');

    events.forEach((event) => {
      const card = document.createElement('article');
      card.className = 'event-card';
      card.innerHTML = `
        <h3>${event.title}</h3>
        <time datetime="${event.date}">${formatDate(event.date)}</time>
        <p>${event.description}</p>
      `;
      eventContainer.appendChild(card);
    });

    // OpenWeatherMap API - replace with your API key
    const apiKey = 'YOUR_OPENWEATHERMAP_API_KEY';
    const lat = 0.05; // Entebbe approx latitude
    const lon = 32.46; // Entebbe approx longitude
    const weatherContainer = document.querySelector('.weather-card');

    async function fetchWeather() {
      try {
        const response = await fetch(
          `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=metric&exclude=minutely,hourly,alerts&appid=${apiKey}`
        );
        if (!response.ok) throw new Error('Weather data not available');
        const data = await response.json();

        // Current weather
        const current = data.current;
        const daily = data.daily;

        // Build current weather section
        const currentWeatherHTML = `
          <h3>Current Weather</h3>
          <p>Temperature: ${Math.round(current.temp)}&deg;C</p>
          <p>Conditions: ${current.weather[0].description}</p>
        `;

        // Build 3-day forecast
        let forecastHTML = '<h3>3-Day Forecast</h3><ul class="forecast-list">';
        for (let i = 1; i <= 3; i++) {
          const day = daily[i];
          const date = new Date(day.dt * 1000);
          const options = { weekday: 'short', month: 'short', day: 'numeric' };
          forecastHTML += `
            <li>
              <strong>${date.toLocaleDateString(undefined, options)}</strong>: 
              ${Math.round(day.temp.day)}&deg;C, ${day.weather[0].description}
            </li>
          `;
        }
        forecastHTML += '</ul>';

        weatherContainer.innerHTML = currentWeatherHTML + forecastHTML;
      } catch (error) {
        weatherContainer.innerHTML = `<p>Unable to load weather data.</p>`;
        console.error(error);
      }
    }

    fetchWeather();
  </script>
</body>
</html>
