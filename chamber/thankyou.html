<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thank You | Local Chamber of Commerce</title>
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/large.css" media="(min-width: 768px)" />
  <link rel="stylesheet" href="styles/join.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    /* Container */
    main {
      max-width: 700px;
      margin: 3rem auto;
      padding: 2rem;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      font-family: 'Roboto', sans-serif;
      color: #333;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* Headings */
    h1 {
      font-weight: 700;
      margin-bottom: 1rem;
      text-align: center;
    }

    h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-weight: 600;
      border-bottom: 2px solid #3498db;
      padding-bottom: 0.3rem;
    }

    /* Definition list for labels + values */
    dl {
      border-top: 1px solid #ccc;
      padding-top: 1rem;
    }

    dt {
      font-weight: 600;
      margin-top: 1rem;
      color: #2c3e50;
    }

    dd {
      margin-left: 1rem;
      margin-bottom: 1rem;
      color: #555;
      word-break: break-word;
    }

    /* Button back to form */
    .btn-back {
      display: inline-block;
      margin: 2rem auto 0 auto;
      padding: 0.75rem 1.5rem;
      background-color: #3498db;
      color: #fff;
      font-weight: 600;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }

    .btn-back:hover,
    .btn-back:focus {
      background-color: #217dbb;
      outline: none;
    }
  </style>
</head>
<body>
  <main role="main" aria-labelledby="thankyou-title">
    <h1 id="thankyou-title">Thank You for Joining the Local Chamber of Commerce!</h1>
    <p>We appreciate your application. Here is the information you submitted:</p>

    <section aria-label="Submitted Information">
      <dl>
        <dt>First Name</dt>
        <dd id="firstName">Loading...</dd>

        <dt>Last Name</dt>
        <dd id="lastName">Loading...</dd>

        <dt>Email Address</dt>
        <dd id="email">Loading...</dd>

        <dt>Mobile Phone Number</dt>
        <dd id="phone">Loading...</dd>

        <dt>Business/Organization Name</dt>
        <dd id="businessName">Loading...</dd>

        <dt>Submission Date and Time</dt>
        <dd id="timestamp">Loading...</dd>
      </dl>
    </section>

    <a href="join.html" class="btn-back">Submit Another Application</a>
  </main>

  <script>
    // Parse URL query parameters into an object
    function getQueryParams() {
      const params = {};
      const queryString = window.location.search.slice(1);
      const pairs = queryString.split('&');
      for (const pair of pairs) {
        if (!pair) continue;
        const [key, value] = pair.split('=');
        params[decodeURIComponent(key)] = decodeURIComponent(value || '');
      }
      return params;
    }

    // Populate fields with submitted data or fallback text
    document.addEventListener('DOMContentLoaded', () => {
      const params = getQueryParams();

      document.getElementById('firstName').textContent = params.firstName || 'Not provided';
      document.getElementById('lastName').textContent = params.lastName || 'Not provided';
      document.getElementById('email').textContent = params.email || 'Not provided';
      document.getElementById('phone').textContent = params.phone || 'Not provided';
      document.getElementById('businessName').textContent = params.businessName || 'Not provided';

      if (params.timestamp) {
        const dt = new Date(params.timestamp);
        document.getElementById('timestamp').textContent = isNaN(dt) ? params.timestamp : dt.toLocaleString();
      } else {
        document.getElementById('timestamp').textContent = 'Not provided';
      }
    });
  </script>
</body>
</html>
